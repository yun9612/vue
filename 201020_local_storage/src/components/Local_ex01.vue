<template>
  <div>
    <!-- localstorage -->
    <div class="box">
      <h2>ì§ ë³´ê´€ ì˜ˆì•½</h2>
      <input v-model="name" type="text" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”." />
      <br />
      <button @click="saveName">ğŸ’¾ ì €ì¥í•˜ê¸°</button>
      <button @click="loadName">ğŸ“‚ ë¶ˆëŸ¬ì˜¤ê¸°</button>
      <button @click="clearName">ğŸ—‘ ì‚­ì œí•˜ê¸°</button>
      <p>ì €ì¥ëœ ì´ë¦„ : {{ savedName }}</p>
    </div>
  </div>
</template>

<script setup>
import { onMounted, ref } from "vue";

const name = ref("");
// ì €ì¥ëœ ì´ë¦„
const savedName = ref("");
// ì €ì¥í•˜ê¸°
const saveName = () => {
  localStorage.setItem("customerName", name.value);
  alert("ì´ë¦„ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.");
  savedName.value = name.value; // ì €ì¥ í›„ í™”ë©´ ì¶œë ¥
};
// ë¶ˆëŸ¬ì˜¤ê¸°
const loadName = () => {
  const getName = localStorage.getItem("customerName");
  //   console.log(getName);
  savedName.value = getName ? getName : "ì €ì¥ëœ ì´ë¦„ì´ ì—†ìŠµë‹ˆë‹¤.";
};
// ì‚­ì œí•˜ê¸°
const clearName = () => {
  localStorage.removeItem("customerName");
  alert("ì €ì¥ëœ ì´ë¦„ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");
  savedName.value = "";
};

// í˜ì´ì§€ ì—´ë¦´ ë•Œ ìë™ìœ¼ë¡œ ë¶ˆëŸ¬ì˜¤ê¸°
onMounted(() => {
  //   const getName = localStorage.getItem("customerName");
  //   if (getName) {
  //     savedName.value = getName;
  //   } else {
  //     savedName.value = "ì €ì¥ëœ ì´ë¦„ì´ ì—†ìŠµë‹ˆë‹¤.";
  //   }
  loadName();
});
</script>

<style scoped lang="scss"></style>
